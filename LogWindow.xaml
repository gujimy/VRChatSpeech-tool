<Window x:Class="VRChatSpeechAssistant.LogWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="å®žæ—¶æ—¥å¿—" Height="500" Width="700"
        Background="#1a1a2e" WindowStartupLocation="CenterOwner"
        Foreground="White" Closing="Window_Closing">
    
    <Window.Resources>
        <!-- æŒ‰é’®æ ·å¼ -->
        <Style x:Key="ModernButton" TargetType="Button">
            <Setter Property="Background" Value="#7c4dff"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="16,8"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}"
                                CornerRadius="6"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#9575cd"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="SecondaryButton" TargetType="Button">
            <Setter Property="Background" Value="#2d2d44"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="16,8"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}"
                                CornerRadius="6"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#3d3d5c"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    
    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- æ ‡é¢˜å’ŒçŠ¶æ€ -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,12">
            <TextBlock Text="ðŸ“‹ å®žæ—¶æ—¥å¿—" FontSize="20" FontWeight="Bold" VerticalAlignment="Center"/>
            <TextBlock x:Name="TxtLogCount" Text="ï¼ˆ0 æ¡ï¼‰" Foreground="#9e9e9e" 
                       FontSize="14" Margin="8,0,0,0" VerticalAlignment="Center"/>
        </StackPanel>
        
        <!-- æ—¥å¿—åˆ—è¡¨ -->
        <Border Grid.Row="1" Background="#16213e" CornerRadius="8" Padding="4">
            <ListBox x:Name="LogList" Background="Transparent" BorderThickness="0"
                     ScrollViewer.VerticalScrollBarVisibility="Auto"
                     ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                     VirtualizingStackPanel.IsVirtualizing="True"
                     VirtualizingStackPanel.VirtualizationMode="Recycling">
                <ListBox.ItemContainerStyle>
                    <Style TargetType="ListBoxItem">
                        <Setter Property="Background" Value="Transparent"/>
                        <Setter Property="Foreground" Value="#e0e0e0"/>
                        <Setter Property="Padding" Value="12,8"/>
                        <Setter Property="Margin" Value="0,2"/>
                        <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="ListBoxItem">
                                    <Border x:Name="Bd" Background="{TemplateBinding Background}"
                                            CornerRadius="4" Padding="{TemplateBinding Padding}">
                                        <ContentPresenter/>
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter TargetName="Bd" Property="Background" Value="#2d2d44"/>
                                        </Trigger>
                                        <Trigger Property="IsSelected" Value="True">
                                            <Setter TargetName="Bd" Property="Background" Value="#3d3d5c"/>
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </ListBox.ItemContainerStyle>
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <StackPanel>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="{Binding Time}" Foreground="#78909c" FontSize="11" Margin="0,0,8,0"/>
                                <TextBlock Text="{Binding Type}" FontWeight="SemiBold" FontSize="11">
                                    <TextBlock.Style>
                                        <Style TargetType="TextBlock">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding Type}" Value="INFO">
                                                    <Setter Property="Foreground" Value="#4fc3f7"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Type}" Value="OSC">
                                                    <Setter Property="Foreground" Value="#81c784"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Type}" Value="WS">
                                                    <Setter Property="Foreground" Value="#ffb74d"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Type}" Value="ERROR">
                                                    <Setter Property="Foreground" Value="#ef5350"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Type}" Value="VRC">
                                                    <Setter Property="Foreground" Value="#ba68c8"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>
                            </StackPanel>
                            <TextBlock Text="{Binding Message}" TextWrapping="Wrap" Margin="0,4,0,0"/>
                        </StackPanel>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </Border>
        
        <!-- æ“ä½œæŒ‰é’® -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,12,0,0">
            <Button Content="ðŸ—‘ï¸ æ¸…ç©ºæ—¥å¿—" Style="{StaticResource SecondaryButton}" 
                    Click="BtnClear_Click" Margin="0,0,8,0"/>
            <Button Content="ðŸ“‹ å¤åˆ¶å…¨éƒ¨" Style="{StaticResource SecondaryButton}" 
                    Click="BtnCopy_Click"/>
        </StackPanel>
    </Grid>
</Window>